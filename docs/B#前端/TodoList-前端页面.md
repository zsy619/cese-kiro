# 前端页面开发 TodoList

## 项目概述

基于 React 技术栈开发上下文工程六要素小工具的前端界面，参考 MagicSchool.ai 的配色方案和界面设计风格。

## 技术栈

- React 18+
- TypeScript
- Ant Design / Material-UI
- React Router
- Axios
- Monaco Editor
- Styled Components / CSS Modules

## 开发任务清单

### 🏗️ 项目初始化

- [ ] 创建 React 项目脚手架
- [ ] 配置 TypeScript 环境
- [ ] 安装并配置 UI 组件库 (Ant Design)
- [ ] 配置路由系统 (React Router)
- [ ] 配置状态管理 (Context API / Redux Toolkit)
- [ ] 配置 HTTP 请求库 (Axios)
- [ ] 配置代码规范 (ESLint + Prettier)

### 🎨 UI 设计与主题

- [ ] 参考 MagicSchool.ai 设计配色方案
  - [ ] 定义主色调 (Primary Colors)
  - [ ] 定义辅助色 (Secondary Colors)
  - [ ] 定义中性色 (Neutral Colors)
  - [ ] 定义状态色 (Success, Warning, Error)
- [ ] 创建全局样式主题
- [ ] 设计响应式布局断点
- [ ] 创建通用组件样式

### 📱 核心页面组件

#### 1. 主布局组件 (MainLayout)

- [ ] 顶部导航栏 (Header)
  - [ ] Logo 和项目标题
  - [ ] 主导航菜单
    - [ ] 首页 (Home)
    - [ ] 模板生成 (Template Generator)
    - [ ] 我的模板 (My Templates)
    - [ ] API配置 (API Configuration)
  - [ ] 用户操作区域
    - [ ] 注册按钮 (Register)
    - [ ] 登录按钮 (Login)
    - [ ] 用户头像和下拉菜单 (已登录状态)
- [ ] 侧边栏 (Sidebar) - 可选
  - [ ] 主题列表
  - [ ] 快速操作
- [ ] 主内容区域 (Content)
- [ ] 底部信息栏 (Footer)

#### 2. 首页 (HomePage)

- [ ] 项目介绍区域
  - [ ] 项目标题和 Slogan
  - [ ] 核心功能介绍
  - [ ] 六要素说明卡片
- [ ] 功能特点展示
  - [ ] 智能提示词生成
  - [ ] 主题管理系统
  - [ ] AI 辅助功能
  - [ ] 多格式导出
- [ ] 快速开始区域
  - [ ] 立即体验按钮
  - [ ] 示例模板展示
- [ ] 统计数据展示
  - [ ] 用户数量
  - [ ] 生成模板数
  - [ ] 活跃用户数

#### 3. 模板生成页面 (TemplateGenerator / PromptBuilder)

- [ ] 页面标题和描述
- [ ] 主题输入区域
  - [ ] 主题名称 (单行文本输入框)
  - [ ] 主题描述 (可选)
- [ ] 六要素输入表单
  - [ ] **任务目标** (多行文本输入框)
    - [ ] 输入提示和帮助文本
    - [ ] 字数统计
  - [ ] **AI的角色** (多行文本输入框)
    - [ ] 角色建议下拉选项
    - [ ] 自定义角色输入
  - [ ] **我的角色** (多行文本输入框)
    - [ ] 常用角色快速选择
  - [ ] **关键信息** (多行文本输入框)
    - [ ] 支持列表格式输入
    - [ ] 标签化显示
  - [ ] **行为规则** (多行文本输入框)
    - [ ] 规则模板选择
    - [ ] 规则验证提示
  - [ ] **交付格式** (多行文本输入框)
    - [ ] 格式模板选择
    - [ ] 预览功能

#### 4. 我的模板页面 (MyTemplates)

- [ ] 模板列表展示
  - [ ] 卡片式布局
  - [ ] 搜索和筛选功能
  - [ ] 分类标签
  - [ ] 创建时间排序
- [ ] 模板操作功能
  - [ ] 新建模板
  - [ ] 编辑模板
  - [ ] 删除模板
  - [ ] 复制模板
  - [ ] 导入/导出模板
- [ ] 批量操作功能
  - [ ] 批量选择
  - [ ] 批量删除
  - [ ] 批量导出

#### 5. API配置页面 (APIConfiguration)

- [ ] API Provider 管理
  - [ ] 支持的大模型厂商列表
    - [ ] OpenAI (GPT-3.5/GPT-4)
    - [ ] 百度文心一言
    - [ ] 阿里通义千问
    - [ ] 腾讯混元
    - [ ] 字节豆包
    - [ ] 本地 Ollama
  - [ ] API 配置表单
    - [ ] API Key 输入
    - [ ] Base URL 配置
    - [ ] 模型选择
    - [ ] 参数配置 (temperature, max_tokens 等)
- [ ] 连接测试功能
  - [ ] 测试连接按钮
  - [ ] 连接状态指示
  - [ ] 错误信息显示
- [ ] 配置管理
  - [ ] 保存配置
  - [ ] 重置配置
  - [ ] 导入/导出配置

#### 6. 预览与生成页面 (PromptPreview)

- [ ] 实时预览区域
  - [ ] Markdown 格式预览
  - [ ] 结构化显示
  - [ ] 语法高亮
- [ ] 生成操作区域
  - [ ] 生成提示词按钮
  - [ ] AI 优化建议按钮
  - [ ] 重新生成按钮

#### 7. 结果展示页面 (PromptResult)

- [ ] 生成结果展示
  - [ ] 完整提示词显示
  - [ ] 格式化展示
- [ ] 操作按钮区域
  - [ ] **复制 Markdown 格式**按钮
  - [ ] **复制 JSON 格式**按钮
  - [ ] 保存到主题库按钮
  - [ ] 分享按钮
  - [ ] 导出文件按钮

#### 8. 用户认证组件

##### 注册组件 (RegisterModal)

- [ ] 弹窗式注册表单
  - [ ] 手机号输入框
    - [ ] 手机号格式验证
    - [ ] 手机号唯一性检查
  - [ ] 密码输入框
    - [ ] 密码强度验证
    - [ ] 密码显示/隐藏切换
  - [ ] 确认密码输入框
    - [ ] 密码一致性验证
  - [ ] 验证码输入
    - [ ] 图形验证码
    - [ ] 短信验证码 (可选)
- [ ] 注册流程处理
  - [ ] 表单验证
  - [ ] 注册请求
  - [ ] 成功/失败反馈
  - [ ] 自动登录

##### 登录组件 (LoginModal)

- [ ] 弹窗式登录表单
  - [ ] 手机号输入框
  - [ ] 密码输入框
  - [ ] 记住登录状态选项
  - [ ] 忘记密码链接
- [ ] 登录流程处理
  - [ ] 表单验证
  - [ ] 登录请求
  - [ ] Token 存储
  - [ ] 用户信息获取
  - [ ] 登录状态管理

##### 用户状态管理

- [ ] 登录状态检查
- [ ] Token 自动刷新
- [ ] 登出功能
- [ ] 权限控制

#### 9. 主题管理页面 (ThemeManager) - 已整合到我的模板

- [ ] 主题列表展示
  - [ ] 卡片式布局
  - [ ] 搜索和筛选功能
  - [ ] 分类标签
- [ ] 主题操作功能
  - [ ] 新建主题
  - [ ] 编辑主题
  - [ ] 删除主题
  - [ ] 复制主题
  - [ ] 导入/导出主题

### 🧩 通用组件开发

#### 基础组件

- [ ] **Button** 组件
  - [ ] 多种样式变体 (Primary, Secondary, Outline)
  - [ ] 不同尺寸 (Small, Medium, Large)
  - [ ] 加载状态
  - [ ] 禁用状态
- [ ] **Input** 组件
  - [ ] 单行文本输入
  - [ ] 多行文本输入 (TextArea)
  - [ ] 输入验证
  - [ ] 字数统计
  - [ ] 清空功能
- [ ] **Card** 组件
  - [ ] 基础卡片样式
  - [ ] 带操作按钮的卡片
  - [ ] 可折叠卡片
- [ ] **Modal** 组件
  - [ ] 确认对话框
  - [ ] 表单对话框
  - [ ] 全屏对话框

#### 业务组件

- [ ] **PromptEditor** 组件
  - [ ] Monaco Editor 集成
  - [ ] Markdown 语法支持
  - [ ] 实时预览
  - [ ] 自动保存
- [ ] **ThemeCard** 组件
  - [ ] 主题信息展示
  - [ ] 快速操作按钮
  - [ ] 状态指示器
- [ ] **CopyButton** 组件
  - [ ] 一键复制功能
  - [ ] 复制成功提示
  - [ ] 多格式支持
- [ ] **ExportButton** 组件
  - [ ] 多格式导出 (MD, JSON, PDF)
  - [ ] 下载进度提示
- [ ] **AuthModal** 组件
  - [ ] 通用弹窗组件
  - [ ] 注册/登录表单切换
  - [ ] 表单验证组件
- [ ] **APIConfigCard** 组件
  - [ ] API 提供商配置卡片
  - [ ] 连接状态指示
  - [ ] 配置表单组件

### 🔧 功能特性开发

#### 核心功能

- [ ] **六要素表单验证**
  - [ ] 必填项验证
  - [ ] 格式验证
  - [ ] 实时验证提示
- [ ] **提示词生成逻辑**
  - [ ] 模板引擎集成
  - [ ] 动态内容替换
  - [ ] 格式化输出
- [ ] **复制功能实现**
  - [ ] Markdown 格式复制
  - [ ] JSON 格式复制
  - [ ] 复制成功反馈
- [ ] **本地存储管理**
  - [ ] 主题数据存储
  - [ ] 历史记录存储
  - [ ] 用户偏好设置
  - [ ] 用户认证信息存储
- [ ] **用户认证功能**
  - [ ] 注册功能实现
  - [ ] 登录功能实现
  - [ ] Token 管理
  - [ ] 权限验证
- [ ] **API 配置管理**
  - [ ] 多厂商 API 配置
  - [ ] 配置验证和测试
  - [ ] 配置持久化存储

#### 增强功能

- [ ] **搜索与筛选**
  - [ ] 主题搜索功能
  - [ ] 标签筛选
  - [ ] 排序功能
- [ ] **导入导出功能**
  - [ ] Markdown 文件导入
  - [ ] JSON 文件导入
  - [ ] 批量导出
- [ ] **历史记录功能**
  - [ ] 生成历史追踪
  - [ ] 版本对比
  - [ ] 历史回溯
- [ ] **AI 辅助功能**
  - [ ] 智能补全
  - [ ] 内容优化建议
  - [ ] 示例生成

### 📱 响应式设计

- [ ] **移动端适配**
  - [ ] 手机端布局优化
  - [ ] 触摸操作优化
  - [ ] 移动端导航
- [ ] **平板端适配**
  - [ ] 中等屏幕布局
  - [ ] 侧边栏适配
- [ ] **桌面端优化**
  - [ ] 大屏幕布局
  - [ ] 快捷键支持
  - [ ] 多窗口支持

### 🎯 用户体验优化

- [ ] **加载状态管理**
  - [ ] 页面加载动画
  - [ ] 操作加载提示
  - [ ] 骨架屏设计
- [ ] **错误处理**
  - [ ] 网络错误处理
  - [ ] 表单验证错误
  - [ ] 友好错误提示
- [ ] **操作反馈**
  - [ ] 成功操作提示
  - [ ] 操作确认对话框
  - [ ] 进度指示器
- [ ] **无障碍访问**
  - [ ] 键盘导航支持
  - [ ] 屏幕阅读器支持
  - [ ] 高对比度模式

### 🔌 API 集成

- [ ] **后端 API 对接**
  - [ ] 用户认证接口 (注册/登录/登出)
  - [ ] 主题 CRUD 操作
  - [ ] 用户信息管理
  - [ ] 文件上传接口
- [ ] **多厂商 AI API 集成**
  - [ ] OpenAI API 对接
  - [ ] 百度文心一言 API
  - [ ] 阿里通义千问 API
  - [ ] 腾讯混元 API
  - [ ] 字节豆包 API
  - [ ] 本地 Ollama API
- [ ] **API 管理功能**
  - [ ] API 配置存储
  - [ ] API 连接测试
  - [ ] API 调用统计
  - [ ] 错误处理和重试
- [ ] **错误处理机制**
  - [ ] API 错误统一处理
  - [ ] 网络异常处理
  - [ ] 认证失效处理
  - [ ] 重试机制
  - [ ] 离线模式支持

### 🧪 测试与质量保证

- [ ] **单元测试**
  - [ ] 组件测试 (Jest + React Testing Library)
  - [ ] 工具函数测试
  - [ ] API 接口测试
- [ ] **集成测试**
  - [ ] 页面流程测试
  - [ ] 用户交互测试
- [ ] **端到端测试**
  - [ ] 关键业务流程测试 (Cypress/Playwright)
  - [ ] 跨浏览器测试
- [ ] **性能优化**
  - [ ] 代码分割 (Code Splitting)
  - [ ] 懒加载实现
  - [ ] 图片优化
  - [ ] 缓存策略

### 📦 构建与部署

- [ ] **开发环境配置**
  - [ ] 热重载配置
  - [ ] 代理配置
  - [ ] 环境变量管理
- [ ] **生产构建优化**
  - [ ] 代码压缩
  - [ ] 资源优化
  - [ ] 构建分析
- [ ] **部署配置**
  - [ ] Docker 配置
  - [ ] Nginx 配置
  - [ ] CDN 配置

## 开发优先级

### 🚀 第一阶段 (MVP)

1. 项目初始化和基础配置
2. 主布局组件开发 (包含主菜单)
3. 首页展示功能
4. 用户认证功能 (注册/登录)
5. 模板生成页面核心功能 (六要素输入)
6. 基础预览和复制功能
7. 简单的本地存储

### 🎯 第二阶段 (功能完善)

1. 我的模板管理功能
2. API 配置管理页面
3. 多厂商 AI API 集成
4. 导入导出功能
5. 响应式设计优化
6. 用户体验提升
7. 基础测试覆盖

### ⭐ 第三阶段 (高级功能)

1. AI 辅助功能集成
2. 高级搜索和筛选
3. 历史记录和版本管理
4. 性能优化
5. 完整测试覆盖

## 技术难点与解决方案

### 1. Monaco Editor 集成

- **难点**: 在 React 中集成代码编辑器
- **解决方案**: 使用 @monaco-editor/react 包，配置 Markdown 语法高亮

### 2. 实时预览功能

- **难点**: Markdown 实时渲染和样式同步
- **解决方案**: 使用 react-markdown 或 marked 库，配合防抖优化

### 3. 复制功能实现

- **难点**: 跨浏览器兼容的复制功能
- **解决方案**: 使用 Clipboard API，降级到 document.execCommand

### 4. 响应式设计

- **难点**: 复杂表单在不同设备上的布局
- **解决方案**: 使用 CSS Grid 和 Flexbox，配合媒体查询

### 5. 状态管理

- **难点**: 复杂表单状态和主题数据管理
- **解决方案**: 使用 React Context + useReducer 或 Redux Toolkit

## 验收标准

### 功能验收

- [ ] 主菜单导航功能完整 (首页/模板生成/我的模板/API配置)
- [ ] 用户认证功能正常 (注册/登录/登出)
- [ ] 所有六要素输入框正常工作
- [ ] 预览功能实时更新
- [ ] 复制功能支持 Markdown 和 JSON 格式
- [ ] 我的模板 CRUD 操作完整
- [ ] API 配置管理功能正常
- [ ] 多厂商 AI API 对接成功
- [ ] 响应式设计在各设备正常显示

### 性能验收

- [ ] 首屏加载时间 < 3秒
- [ ] 页面切换流畅无卡顿
- [ ] 大量主题数据加载性能良好
- [ ] 内存使用合理，无明显泄漏

### 用户体验验收

- [ ] 界面美观，符合设计规范
- [ ] 操作流程直观易懂
- [ ] 错误提示友好明确
- [ ] 加载状态反馈及时

---

**开发周期预估**: 4-6 周
**团队配置**: 1-2 名前端开发工程师
**技术栈版本**: React 18+, TypeScript 4.9+, Ant Design 5+
