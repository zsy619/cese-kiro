# 前端页面开发 TodoList

## 项目概述

基于 React 技术栈开发上下文工程六要素小工具的前端界面，参考 MagicSchool.ai 的配色方案和界面设计风格。

## 技术栈

- React 18+
- TypeScript
- Ant Design / Material-UI
- React Router
- Axios
- Monaco Editor
- Styled Components / CSS Modules

## 开发任务清单

### 🏗️ 项目初始化

- [x] 创建 React 项目脚手架
- [x] 配置 TypeScript 环境
- [x] 安装并配置 UI 组件库 (Ant Design)
- [x] 配置路由系统 (React Router)
- [x] 配置状态管理 (Context API / Redux Toolkit)
- [x] 配置 HTTP 请求库 (Axios)
- [x] 配置代码规范 (ESLint + Prettier)

### 🎨 UI 设计与主题

- [x] 参考 MagicSchool.ai 设计配色方案
  - [x] 定义主色调 (Primary Colors)
  - [x] 定义辅助色 (Secondary Colors)
  - [x] 定义中性色 (Neutral Colors)
  - [x] 定义状态色 (Success, Warning, Error)
- [x] 创建全局样式主题
- [x] 设计响应式布局断点
- [x] 创建通用组件样式

### 📱 核心页面组件

#### 1. 主布局组件 (MainLayout)

- [x] 顶部导航栏 (Header)
  - [x] Logo 和项目标题
  - [x] 主导航菜单
    - [x] 首页 (Home)
    - [x] 模板生成 (Template Generator)
    - [x] 我的模板 (My Templates)
    - [x] API配置 (API Configuration)
  - [x] 用户操作区域
    - [x] 注册按钮 (Register)
    - [x] 登录按钮 (Login)
    - [x] 用户头像和下拉菜单 (已登录状态)
  - [x] 移动端响应式菜单
- [ ] 侧边栏 (Sidebar) - 可选
  - [ ] 主题列表
  - [ ] 快速操作
- [x] 主内容区域 (Content)
- [x] 底部信息栏 (Footer)

#### 2. 首页 (HomePage)

- [x] 项目介绍区域
  - [x] 项目标题和 Slogan
  - [x] 核心功能介绍
  - [x] 六要素说明卡片
- [x] 功能特点展示
  - [x] 智能提示词生成
  - [x] 主题管理系统
  - [x] AI 辅助功能
  - [x] 多格式导出
- [x] 快速开始区域
  - [x] 立即体验按钮
  - [x] 示例模板展示
- [x] 统计数据展示
  - [x] 用户数量
  - [x] 生成模板数
  - [x] 活跃用户数
- [x] 响应式设计和渐变背景
- [x] CTA (Call to Action) 区域

#### 3. 模板生成页面 (TemplateGenerator / PromptBuilder)

- [x] 页面标题和描述
- [x] 主题输入区域
  - [x] 主题名称 (单行文本输入框)
  - [x] 主题描述 (可选)
  - [x] 标签分类功能
- [x] 六要素输入表单
  - [x] **任务目标** (多行文本输入框)
    - [x] 输入提示和帮助文本
    - [x] 字数统计
  - [x] **AI的角色** (多行文本输入框)
    - [x] 角色建议下拉选项
    - [x] 自定义角色输入
  - [x] **我的角色** (多行文本输入框)
    - [x] 常用角色快速选择
  - [x] **关键信息** (多行文本输入框)
    - [ ] 支持列表格式输入
    - [ ] 标签化显示
  - [x] **行为规则** (多行文本输入框)
    - [ ] 规则模板选择
    - [ ] 规则验证提示
  - [x] **交付格式** (多行文本输入框)
    - [x] 格式模板选择
    - [x] 预览功能

#### 4. 我的模板页面 (MyTemplates)

- [x] 模板列表展示
  - [x] 卡片式布局
  - [x] 搜索和筛选功能
  - [x] 分类标签
  - [x] 创建时间排序
- [x] 模板操作功能
  - [x] 新建模板
  - [x] 编辑模板
  - [x] 删除模板
  - [x] 复制模板
  - [x] 导入/导出模板
- [x] 批量操作功能
  - [x] 批量选择
  - [x] 批量删除
  - [x] 批量导出
- [x] 统计信息展示
- [x] 空状态处理
- [x] 完成度指示器

#### 5. API配置页面 (APIConfiguration)

- [x] API Provider 管理
  - [x] 支持的大模型厂商列表
    - [x] OpenAI (GPT-3.5/GPT-4)
    - [x] 百度文心一言
    - [x] 阿里通义千问
    - [x] 腾讯混元
    - [x] 字节豆包
    - [x] 本地 Ollama
  - [x] API 配置表单
    - [x] API Key 输入
    - [x] Base URL 配置
    - [x] 模型选择
    - [x] 参数配置 (timeout, maxRetries, headers 等)
- [x] 连接测试功能
  - [x] 测试连接按钮
  - [x] 连接状态指示
  - [x] 错误信息显示
  - [x] 批量测试功能
- [x] 配置管理
  - [x] 保存配置
  - [x] 重置配置
  - [x] 导入/导出配置
- [x] 统计信息展示
- [x] 默认提供商设置
- [x] 启用/禁用提供商

#### 6. 预览与生成页面 (PromptPreview)

- [x] 实时预览区域
  - [x] Markdown 格式预览
  - [x] 结构化显示
  - [x] 语法高亮
- [x] 生成操作区域
  - [x] 生成提示词按钮
  - [ ] AI 优化建议按钮
  - [ ] 重新生成按钮

#### 7. 结果展示页面 (PromptResult)

- [x] 生成结果展示
  - [x] 完整提示词显示
  - [x] 格式化展示
- [x] 操作按钮区域
  - [x] **复制 Markdown 格式**按钮
  - [x] **复制 JSON 格式**按钮
  - [x] 保存到主题库按钮
  - [ ] 分享按钮
  - [x] 导出文件按钮

#### 8. 用户认证组件

##### 注册组件 (RegisterModal)

- [x] 弹窗式注册表单
  - [x] 手机号输入框
    - [x] 手机号格式验证
    - [x] 手机号唯一性检查
  - [x] 密码输入框
    - [x] 密码强度验证
    - [x] 密码显示/隐藏切换
  - [x] 确认密码输入框
    - [x] 密码一致性验证
  - [ ] 验证码输入
    - [ ] 图形验证码
    - [ ] 短信验证码 (可选)
- [x] 注册流程处理
  - [x] 表单验证
  - [x] 注册请求
  - [x] 成功/失败反馈
  - [ ] 自动登录

##### 登录组件 (LoginModal)

- [x] 弹窗式登录表单
  - [x] 手机号输入框
  - [x] 密码输入框
  - [x] 记住登录状态选项
  - [x] 忘记密码链接
- [x] 登录流程处理
  - [x] 表单验证
  - [x] 登录请求
  - [x] Token 存储
  - [x] 用户信息获取
  - [x] 登录状态管理

##### 用户状态管理

- [x] 登录状态检查
- [ ] Token 自动刷新
- [x] 登出功能
- [x] 权限控制

#### 9. 主题管理页面 (ThemeManager) - 已整合到我的模板

- [ ] 主题列表展示
  - [ ] 卡片式布局
  - [ ] 搜索和筛选功能
  - [ ] 分类标签
- [ ] 主题操作功能
  - [ ] 新建主题
  - [ ] 编辑主题
  - [ ] 删除主题
  - [ ] 复制主题
  - [ ] 导入/导出主题

### 🧩 通用组件开发

#### 基础组件

- [ ] **Button** 组件
  - [ ] 多种样式变体 (Primary, Secondary, Outline)
  - [ ] 不同尺寸 (Small, Medium, Large)
  - [ ] 加载状态
  - [ ] 禁用状态
- [ ] **Input** 组件
  - [ ] 单行文本输入
  - [ ] 多行文本输入 (TextArea)
  - [ ] 输入验证
  - [ ] 字数统计
  - [ ] 清空功能
- [ ] **Card** 组件
  - [ ] 基础卡片样式
  - [ ] 带操作按钮的卡片
  - [ ] 可折叠卡片
- [ ] **Modal** 组件
  - [ ] 确认对话框
  - [ ] 表单对话框
  - [ ] 全屏对话框

#### 业务组件

- [x] **PromptEditor** 组件
  - [x] 实时预览
  - [x] Markdown 语法支持
  - [ ] Monaco Editor 集成
  - [ ] 自动保存
- [x] **ThemeCard** 组件
  - [x] 主题信息展示
  - [x] 快速操作按钮
  - [x] 状态指示器
  - [x] 完成度可视化
  - [x] 要素预览功能
- [x] **CopyButton** 组件
  - [x] 一键复制功能
  - [x] 复制成功提示
  - [x] 多格式支持
- [x] **ExportButton** 组件
  - [x] 多格式导出 (MD, JSON)
  - [x] 下载进度提示
- [x] **AuthModal** 组件
  - [x] 通用弹窗组件
  - [x] 注册/登录表单切换
  - [x] 表单验证组件
  - [x] 密码强度验证
  - [x] 记住登录状态
- [x] **APIConfigCard** 组件
  - [x] API 提供商配置卡片
  - [x] 连接状态指示
  - [x] 配置表单组件
  - [x] 高级配置选项
- [x] **APIConfigManager** 组件
  - [x] 多提供商管理
  - [x] 批量操作功能
  - [x] 统计信息展示
  - [x] 导入导出功能
- [x] **RoleSuggestions** 组件
  - [x] AI/用户角色建议
  - [x] 快速选择标签
  - [x] 下拉选择功能
- [x] **FormatTemplates** 组件
  - [x] 输出格式模板
  - [x] 多种格式支持
  - [x] 快速选择功能
- [x] **TemplateMetadata** 组件
  - [x] 模板信息管理
  - [x] 标签分类功能
  - [x] 表单验证

### 🔧 功能特性开发

#### 核心功能

- [x] **六要素表单验证**
  - [x] 必填项验证
  - [x] 格式验证
  - [x] 实时验证提示
- [x] **提示词生成逻辑**
  - [x] 模板引擎集成
  - [x] 动态内容替换
  - [x] 格式化输出
- [x] **复制功能实现**
  - [x] Markdown 格式复制
  - [x] JSON 格式复制
  - [x] 复制成功反馈
- [x] **本地存储管理**
  - [x] 主题数据存储
  - [ ] 历史记录存储
  - [ ] 用户偏好设置
  - [x] 用户认证信息存储
- [x] **用户认证功能**
  - [x] 注册功能实现
  - [x] 登录功能实现
  - [x] Token 管理
  - [x] 权限验证
- [x] **API 配置管理**
  - [x] 多厂商 API 配置
  - [x] 配置验证和测试
  - [x] 配置持久化存储

#### 增强功能

- [x] **搜索与筛选**
  - [x] 主题搜索功能
  - [x] 标签筛选
  - [x] 排序功能
  - [x] 日期范围筛选
  - [x] 活动筛选条件显示
- [x] **导入导出功能**
  - [ ] Markdown 文件导入
  - [x] JSON 文件导入
  - [x] 批量导出
  - [x] 单个模板导出
- [ ] **历史记录功能**
  - [ ] 生成历史追踪
  - [ ] 版本对比
  - [ ] 历史回溯
- [ ] **AI 辅助功能**
  - [ ] 智能补全
  - [ ] 内容优化建议
  - [ ] 示例生成

### 📱 响应式设计

- [ ] **移动端适配**
  - [ ] 手机端布局优化
  - [ ] 触摸操作优化
  - [ ] 移动端导航
- [ ] **平板端适配**
  - [ ] 中等屏幕布局
  - [ ] 侧边栏适配
- [ ] **桌面端优化**
  - [ ] 大屏幕布局
  - [ ] 快捷键支持
  - [ ] 多窗口支持

### 🎯 用户体验优化

- [ ] **加载状态管理**
  - [ ] 页面加载动画
  - [ ] 操作加载提示
  - [ ] 骨架屏设计
- [ ] **错误处理**
  - [ ] 网络错误处理
  - [ ] 表单验证错误
  - [ ] 友好错误提示
- [ ] **操作反馈**
  - [ ] 成功操作提示
  - [ ] 操作确认对话框
  - [ ] 进度指示器
- [ ] **无障碍访问**
  - [ ] 键盘导航支持
  - [ ] 屏幕阅读器支持
  - [ ] 高对比度模式

### 🔌 API 集成

- [ ] **后端 API 对接**
  - [ ] 用户认证接口 (注册/登录/登出)
  - [ ] 主题 CRUD 操作
  - [ ] 用户信息管理
  - [ ] 文件上传接口
- [ ] **多厂商 AI API 集成**
  - [ ] OpenAI API 对接
  - [ ] 百度文心一言 API
  - [ ] 阿里通义千问 API
  - [ ] 腾讯混元 API
  - [ ] 字节豆包 API
  - [ ] 本地 Ollama API
- [ ] **API 管理功能**
  - [ ] API 配置存储
  - [ ] API 连接测试
  - [ ] API 调用统计
  - [ ] 错误处理和重试
- [ ] **错误处理机制**
  - [ ] API 错误统一处理
  - [ ] 网络异常处理
  - [ ] 认证失效处理
  - [ ] 重试机制
  - [ ] 离线模式支持

### 🧪 测试与质量保证

- [ ] **单元测试**
  - [ ] 组件测试 (Jest + React Testing Library)
  - [ ] 工具函数测试
  - [ ] API 接口测试
- [ ] **集成测试**
  - [ ] 页面流程测试
  - [ ] 用户交互测试
- [ ] **端到端测试**
  - [ ] 关键业务流程测试 (Cypress/Playwright)
  - [ ] 跨浏览器测试
- [ ] **性能优化**
  - [ ] 代码分割 (Code Splitting)
  - [ ] 懒加载实现
  - [ ] 图片优化
  - [ ] 缓存策略

### 📦 构建与部署

- [ ] **开发环境配置**
  - [ ] 热重载配置
  - [ ] 代理配置
  - [ ] 环境变量管理
- [ ] **生产构建优化**
  - [ ] 代码压缩
  - [ ] 资源优化
  - [ ] 构建分析
- [ ] **部署配置**
  - [ ] Docker 配置
  - [ ] Nginx 配置
  - [ ] CDN 配置

## 开发优先级

### 🚀 第一阶段 (MVP)

1. ✅ 项目初始化和基础配置
2. ✅ 主布局组件开发 (包含主菜单)
3. ✅ 首页展示功能
4. ✅ 用户认证功能 (注册/登录)
5. ✅ 模板生成页面核心功能 (六要素输入)
6. ✅ 基础预览和复制功能
7. ✅ 简单的本地存储
8. ✅ 我的模板管理功能 (超出MVP范围，提前完成)
9. ✅ API配置管理功能 (超出MVP范围，提前完成)

### 🎯 第二阶段 (功能完善)

1. 我的模板管理功能
2. API 配置管理页面
3. 多厂商 AI API 集成
4. 导入导出功能
5. 响应式设计优化
6. 用户体验提升
7. 基础测试覆盖

### ⭐ 第三阶段 (高级功能)

1. AI 辅助功能集成
2. 高级搜索和筛选
3. 历史记录和版本管理
4. 性能优化
5. 完整测试覆盖

## 技术难点与解决方案

### 1. Monaco Editor 集成

- **难点**: 在 React 中集成代码编辑器
- **解决方案**: 使用 @monaco-editor/react 包，配置 Markdown 语法高亮

### 2. 实时预览功能

- **难点**: Markdown 实时渲染和样式同步
- **解决方案**: 使用 react-markdown 或 marked 库，配合防抖优化

### 3. 复制功能实现

- **难点**: 跨浏览器兼容的复制功能
- **解决方案**: 使用 Clipboard API，降级到 document.execCommand

### 4. 响应式设计

- **难点**: 复杂表单在不同设备上的布局
- **解决方案**: 使用 CSS Grid 和 Flexbox，配合媒体查询

### 5. 状态管理

- **难点**: 复杂表单状态和主题数据管理
- **解决方案**: 使用 React Context + useReducer 或 Redux Toolkit

## 验收标准

### 功能验收

- [x] 主菜单导航功能完整 (首页/模板生成/我的模板/API配置)
- [x] 用户认证功能正常 (注册/登录/登出)
- [x] 所有六要素输入框正常工作
- [x] 预览功能实时更新
- [x] 复制功能支持 Markdown 和 JSON 格式
- [x] 我的模板 CRUD 操作完整
- [x] API 配置管理功能正常
- [ ] 多厂商 AI API 对接成功
- [x] 响应式设计在各设备正常显示

### 性能验收

- [ ] 首屏加载时间 < 3秒
- [ ] 页面切换流畅无卡顿
- [ ] 大量主题数据加载性能良好
- [ ] 内存使用合理，无明显泄漏

### 用户体验验收

- [ ] 界面美观，符合设计规范
- [ ] 操作流程直观易懂
- [ ] 错误提示友好明确
- [ ] 加载状态反馈及时

---

**开发周期预估**: 4-6 周
**团队配置**: 1-2 名前端开发工程师
**技术栈版本**: React 18+, TypeScript 4.9+, Ant Design 5+
