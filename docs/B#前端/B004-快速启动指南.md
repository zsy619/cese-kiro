# 前端快速启动指南

## 🚀 快速开始

### 前置要求

确保你的系统已安装以下软件：

- **Node.js** 18.0.0 或更高版本
- **npm** 9.0.0 或更高版本（或 yarn 1.22.0+）
- **Git** 2.0.0 或更高版本

### 检查环境

```bash
# 检查 Node.js 版本
node -v

# 检查 npm 版本
npm -v

# 检查 Git 版本
git -v
```

## 📦 安装步骤

### 1. 克隆项目

```bash
# 克隆仓库
git clone https://github.com/zsy619/cese-kiro.git

# 进入项目目录
cd cese-kiro
```

### 2. 安装前端依赖

```bash
# 进入前端目录
cd frontend

# 安装依赖
npm install

# 或使用 yarn
yarn install
```

### 3. 配置环境变量

```bash
# 复制环境变量示例文件
cp .env.example .env

# 编辑环境变量（可选）
# vim .env
```

默认环境变量配置：
```env
PORT=3100
REACT_APP_API_BASE_URL=http://localhost:8080
REACT_APP_APP_TITLE=上下文工程六要素小工具
REACT_APP_OLLAMA_ENABLED=true
```

## 🎯 启动开发服务器

### 方式一：使用 npm 命令（推荐）

```bash
# 启动开发服务器（端口 3100）
npm run dev

# 或使用默认端口 3000
npm start
```

### 方式二：使用启动脚本

#### macOS / Linux
```bash
# 赋予执行权限
chmod +x start-dev.sh

# 运行启动脚本
./start-dev.sh
```

#### Windows
```cmd
# 直接运行批处理文件
start-dev.bat
```

### 方式三：从项目根目录启动

```bash
# 在项目根目录运行
./start-frontend.sh
```

## 🌐 访问应用

启动成功后，在浏览器中访问：

- **本地地址**：http://localhost:3100
- **网络地址**：http://[你的IP]:3100

## 📱 功能导航

### 首页
- 访问：http://localhost:3100/
- 功能：项目介绍、六要素说明、功能特点展示

### 模板生成
- 访问：http://localhost:3100/generator
- 功能：创建新的六要素提示词模板

### 我的模板
- 访问：http://localhost:3100/templates
- 功能：查看、编辑、管理已保存的模板
- 注意：需要登录后才能访问

### API配置
- 访问：http://localhost:3100/config
- 功能：配置多厂商大模型 API

## 🔧 常见问题

### 问题 1：端口被占用

**错误信息**：
```
Something is already running on port 3100
```

**解决方案**：

#### 方案 A：使用其他端口
```bash
# 使用端口 3101
PORT=3101 npm start
```

#### 方案 B：杀死占用端口的进程

macOS/Linux:
```bash
# 查找占用端口的进程
lsof -ti:3100

# 杀死进程
kill -9 $(lsof -ti:3100)
```

Windows:
```cmd
# 查找占用端口的进程
netstat -ano | findstr :3100

# 杀死进程（替换 PID 为实际进程ID）
taskkill /PID [PID] /F
```

### 问题 2：依赖安装失败

**错误信息**：
```
npm ERR! code ERESOLVE
```

**解决方案**：

```bash
# 清理 npm 缓存
npm cache clean --force

# 删除 node_modules 和 package-lock.json
rm -rf node_modules package-lock.json

# 重新安装
npm install

# 或使用 --legacy-peer-deps
npm install --legacy-peer-deps
```

### 问题 3：react-scripts 未找到

**错误信息**：
```
sh: react-scripts: command not found
```

**解决方案**：

```bash
# 重新安装 react-scripts
npm install react-scripts@5.0.1

# 或重新安装所有依赖
rm -rf node_modules package-lock.json
npm install
```

### 问题 4：TypeScript 编译错误

**解决方案**：

```bash
# 检查 TypeScript 配置
npx tsc --noEmit

# 重启 TypeScript 服务（VS Code）
# Ctrl+Shift+P -> "TypeScript: Restart TS Server"
```

### 问题 5：样式不生效

**解决方案**：

```bash
# 清理构建缓存
rm -rf node_modules/.cache

# 重启开发服务器
npm start
```

## 🛠️ 开发工具推荐

### VS Code 扩展

1. **ES7+ React/Redux/React-Native snippets**
   - 提供 React 代码片段

2. **Prettier - Code formatter**
   - 代码格式化工具

3. **ESLint**
   - 代码质量检查

4. **Auto Rename Tag**
   - 自动重命名配对标签

5. **Tailwind CSS IntelliSense**
   - Tailwind CSS 智能提示

### 浏览器扩展

1. **React Developer Tools**
   - React 组件调试工具

2. **Redux DevTools**
   - Redux 状态调试工具（如果使用）

## 📚 开发命令

```bash
# 启动开发服务器
npm start

# 启动开发服务器（端口 3100）
npm run dev

# 构建生产版本
npm run build

# 运行测试
npm test

# 运行 ESLint 检查
npm run lint

# 格式化代码
npm run format

# 弹出 Create React App 配置（不可逆）
npm run eject
```

## 🎨 开发技巧

### 1. 热重载

开发服务器支持热重载，修改代码后会自动刷新浏览器。

### 2. 环境变量

在 `.env` 文件中定义的环境变量必须以 `REACT_APP_` 开头：

```env
REACT_APP_MY_VAR=value
```

在代码中使用：
```typescript
const myVar = process.env.REACT_APP_MY_VAR;
```

### 3. 代理配置

如果需要代理后端 API 请求，在 `package.json` 中添加：

```json
{
  "proxy": "http://localhost:8080"
}
```

### 4. 调试技巧

```typescript
// 使用 console.log 调试
console.log('Debug:', data);

// 使用 debugger 断点
debugger;

// 使用 React DevTools 查看组件状态
```

## 📖 学习资源

### 官方文档
- [React 官方文档](https://react.dev/)
- [TypeScript 官方文档](https://www.typescriptlang.org/)
- [Ant Design 官方文档](https://ant.design/)
- [React Router 官方文档](https://reactrouter.com/)

### 推荐教程
- React 入门教程
- TypeScript 实战指南
- Ant Design 组件使用
- React Hooks 深入理解

## 🤝 获取帮助

### 遇到问题？

1. **查看文档**：docs/B#前端/ 目录下的相关文档
2. **查看代码**：参考已实现的组件代码
3. **提交 Issue**：https://github.com/zsy619/cese-kiro/issues
4. **查看日志**：检查浏览器控制台和终端输出

### 贡献代码

欢迎提交 Pull Request！请参考 [贡献指南](../../README.md#贡献指南)。

## ✅ 验收检查

启动成功后，请检查以下功能：

- [ ] 首页正常显示
- [ ] 导航菜单可以点击
- [ ] 模板生成页面可以输入内容
- [ ] 实时预览功能正常
- [ ] 登录/注册弹窗可以打开
- [ ] 响应式设计在不同设备上正常显示

## 🎉 开始开发

现在你已经成功启动了前端开发环境，可以开始开发了！

建议的开发流程：
1. 创建新的功能分支
2. 开发新功能或修复 bug
3. 测试功能是否正常
4. 提交代码并推送
5. 创建 Pull Request

祝你开发愉快！🚀